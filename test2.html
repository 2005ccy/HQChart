<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">  
<html xmlns="http://www.w3.org/1999/xhtml">  
<head>  
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />  
<title>H5行情demo页面</title>  
    <link rel="stylesheet" href="tools.css" />
    <link rel="stylesheet" href="font/iconfont.css">
</head>  
<body>
    <div class="interval">
        <div class="top">区间统计<span class="closeBtn">X</span></div>
        <table cellpadding="0" cellspacing="0">
            <tr>
                <td class="name">起始时间：</td>
                <td>
                    <span class="startDate"></span>
                    <span class="dateChange dateChange1" data-op="1"></span>
                    <span class="dateChange dateChange2" data-op="2"></span>
                </td>
                <td class="name">终止时间：</td>
                <td>
                    <span class="endDate"></span>
                    <span class="dateChange dateChange1" data-op="3"></span>
                    <span class="dateChange dateChange2" data-op="4"></span>
                </td>
                <td class="name">统计个数：</td>
                <td class="totalCount"></td>
            </tr>
            <tr>
                <td class="name">前收盘价：</td>
                <td class="yclose"></td>
                <td class="name">最&nbsp;&nbsp;高&nbsp;&nbsp;价：</td>
                <td class="high redColor"></td>
                <td class="name">最&nbsp;&nbsp;低&nbsp;&nbsp;价：</td>
                <td class="low greenColor"></td>
            </tr>
            <tr>
                <td class="name">收&nbsp;&nbsp;盘&nbsp;&nbsp;价：</td>
                <td class="close"></td>
                <td class="name">均&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;价：</td>
                <td class="avg"></td>
                <td class="name">涨&nbsp;&nbsp;跌&nbsp;&nbsp;幅：</td>
                <td class="increase"></td>
            </tr>
            <tr>
                <td class="name">成&nbsp;&nbsp;交&nbsp;&nbsp;量：</td>
                <td class="vol"></td>
                <td class="name">成&nbsp;&nbsp;交&nbsp;&nbsp;额：</td>
                <td class="amount"></td>
                <td class="name">振&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;幅：</td>
                <td class="amplitude"></td>
            </tr>
        </table>
    </div>

    <div class="kLineMatch">
        <div class="top">选股结果-共<span class="totalCount">0</span>只<span class="closeBtn">X</span></div>
        <div class="title">
            <div class="name">股票名称</div>
            <div class="time">时间段</div>
            <div class="similar">匹配</div>
        </div>
        <div class="list">
        </div>
    </div>

    <div class="spinnerBg"></div>
    <div class="spinner">
        <div class="rect1"></div>
        <div class="rect2"></div>
        <div class="rect3"></div>
        <div class="rect4"></div>
        <div class="rect5"></div>
    </div>

    <div id="kline" style="width: 1000px;height:600px;position: relative;"></div>
    <div id="kline2" style="width: 1000px;height:600px;"></div>

    <div id="minute" style="width: 1000px;height:600px;"></div>
    <div id="hisminute" style="width: 1000px;height:600px;"></div>

<script type="text/javascript" src="umychart.js"></script>
<!--<script type="text/javascript" src="tools.js"></script>-->
<script src="https://cdn.bootcss.com/jquery/2.2.4/jquery.min.js"></script>
<script>

//g_JSChartResource.Index.StockHistoryDayApiUrl="http://opensource.zealink.com/API/StockHistoryDay";


/////////////////////////////////////////////////////////////////////////////////
// 创建股票K线图
//
var jsChart=JSChart.Init(document.getElementById('kline'));

var option=
{
    Type:'历史K线图',
    Windows:                //窗口指标
        [
            {Index:'均线'},
            {Index:'VOL'},
            {Index:'KDJ'}
        ],
    //Symbol:'600000.sh',     //股票代码
//    Symbol:'002368.sz',     //股票代码
    Symbol:'002230.sz',
    IsAutoUpate:true,       //是自动更新数据

    Tool:                   //工具条
        [
            {Name:"周期"},
            {Name:"复权"}
        ],

    IsShowRightMenu:true,   //右键菜单

    KLine:
    {
        DragMode:1,                 //拖拽模式 0 禁止拖拽 1 数据拖拽 2 区间选择
        Right:1,                    //复权 0 不复权 1 前复权 2 后复权
        Period:0,                   //周期 0 日线 1 周线 2 月线 3 年线
        MaxReqeustDataCount:1000,   //数据个数
        PageSize:100,               //一屏显示多少数据
        IndexTreeApiUrl:"http://beigo.oss-cn-beijing.aliyuncs.com/cache/hqh5/index/commonindextree.json",        //指标树下载地址
        Info:["业绩预告","公告","互动易","调研","大宗交易","龙虎榜"],       //信息地雷
        //Info:["业绩预告","公告"],       //信息地雷
        KLineDoubleClick:true,          //双击分钟走势图
    },
};

jsChart.SetOption(option);



///////////////////////////////////////////////////////////////////////////////////////
//
//  创建多空图
//
var jsChart=JSChart.Init(document.getElementById('kline2'));
var option=
{
    Type:'历史K线图',
    Windows:                //窗口指标
        [
            {Index:'均线',Modify:true,Change:false}, //Modify->改参数 Change->换指标 
            {Index:'市场多空',Modify:false,Change:true},
            {Index:'指数热度',Modify:false,Change:false}
        ],
    Symbol:'320000.ci',     //股票代码
    IsAutoUpate:true,       //是自动更新数据

    Tool:                   //工具条
        [
            {Name:"周期"},
            {Name:"复权"}
        ],

    IsShowRightMenu:true,   //右键菜单

    KLine:
    {
        DragMode:1,                 //拖拽模式 0 禁止拖拽 1 数据拖拽 2 区间选择
        Right:0,                    //复权 0 不复权 1 前复权 2 后复权
        Period:0,                   //周期 0 日线 1 周线 2 月线 3 年线
        MaxReqeustDataCount:600,    //数据个数
        IndexTreeApiUrl:"http://beigo.oss-cn-beijing.aliyuncs.com/cache/hqh5/index/commonindextree.json",       //指标树下载地址
        KLineDoubleClick:false,        //双击分钟走势图
       
    },
};
jsChart.SetOption(option);


//////////////////////////////////////////////////////////////////////////////////////
// 实时行情走势图
//

var jsChart=JSChart.Init(document.getElementById('minute'));

var option=
{
    Type:'分钟走势图',
    Windows:                //窗口指标
        [
            {Index:'KDJ'}
        ],
    Symbol:'000001.sz',     //股票代码
    IsAutoUpate:true,       //是自动更新数据

    IsShowRightMenu:true,   //右键菜单
};

jsChart.SetOption(option);


//////////////////////////////////////////////////////////////////////////////////////
// 历史行情走势图
//

var jsChart=JSChart.Init(document.getElementById('hisminute'));

var option=
{
    Type:'历史分钟走势图',
    Symbol:'000001.sz',     //股票代码
    IsAutoUpate:true,       //是自动更新数据

    IsShowRightMenu:true,   //右键菜单
    HistoryMinute: { TradeDate:20180410 }   //显示的交易日期
};

jsChart.SetOption(option);


$(window).resize(resizeCanvas);

function resizeCanvas() 
{  
    var height= $(window).height();
    var width = $(window).width();
    var divKline=document.getElementById('kline');
    divKline.style.width=width+'px';
    divKline.style.height=800+'px';
    divKline.JSChart.OnSize();

    var divKline=document.getElementById('kline2');
    divKline.style.width=width+'px';
    divKline.style.height=800+'px';
    divKline.JSChart.OnSize();

    var minuteWidth=width/2;
    var divMinute=document.getElementById('minute');
    divMinute.style.width=minuteWidth+'px';
    divMinute.style.height=400+'px';
    divMinute.JSChart.OnSize();

    var divMinute=document.getElementById('hisminute');
    divMinute.style.width=minuteWidth+'px';
    divMinute.style.height=400+'px';
    divMinute.JSChart.OnSize();
};


$(function () {
    //Global.init();
    //Tools.init();
    //Interval.init();
    //KLineMatch.init();
    resizeCanvas();

    //创建区间统计右键数据
    /*window.rectContextMenu = new ContextMenu({
        id: "rect"
    });*/

});


</script>  
</body>  
</html>  